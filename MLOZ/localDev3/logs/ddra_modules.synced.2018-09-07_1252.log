+ checkProject http://svn.sdlc.gfdi.be/svn/EC/ddra/trunk/ddra_modules
++ echo http://svn.sdlc.gfdi.be/svn/EC/ddra/trunk/ddra_modules
++ awk -F '|' '{print $2}'
+ jenkinsJob=
++ echo http://svn.sdlc.gfdi.be/svn/EC/ddra/trunk/ddra_modules
++ awk -F '|' '{print $1}'
+ SVNrepoLine=http://svn.sdlc.gfdi.be/svn/EC/ddra/trunk/ddra_modules
++ echo http://svn.sdlc.gfdi.be/svn/EC/ddra/trunk/ddra_modules
++ awk -F / '{print $5}'
+ SVNrepoName=EC
+ projectName=ddra_modules
++ find /home/israel/git/svn-repos-v_1_2 -maxdepth 2 -type d
++ grep ddra_modules
+ [[ -n /home/israel/git/svn-repos-v_1_2/ddra_modules
/home/israel/git/svn-repos-v_1_2/ddra_modules/ddra-wsdl
/home/israel/git/svn-repos-v_1_2/ddra_modules/ddra-web
/home/israel/git/svn-repos-v_1_2/ddra_modules/ddra-api
/home/israel/git/svn-repos-v_1_2/ddra_modules/ddra-dao
/home/israel/git/svn-repos-v_1_2/ddra_modules/ddra-soapui
/home/israel/git/svn-repos-v_1_2/ddra_modules/.git ]]
+ cd /home/israel/git/svn-repos-v_1_2/ddra_modules
++ git branch --all
++ grep trunk
+ [[ -n   remotes/trunk ]]
+ clonedStatus=OK
+ [[ OK == \O\K ]]
+ echo 'Project ddra_modules was already cloned, syncing operation will be executed:'
Project ddra_modules was already cloned, syncing operation will be executed:
+ listProjects=(${listProjects[@]} ${project})
+ cd /home/israel/git/svn-repos-v_1_2/ddra_modules
+ echo 'git pull origin master --rebase in progress...'
git pull origin master --rebase in progress...
+ git pull origin master --rebase
From ssh://git.sdlc.gfdi.be:7999/IS/ddra_modules
 * branch            master     -> FETCH_HEAD
Current branch master is up to date.
+ [[ 0 -ne 0 ]]
+ [[ -z '' ]]
+ echo 'Updating authors list for ddra_modules ...'
Updating authors list for ddra_modules ...
+ getAuthors
+ echo 'Updating Authors list for project ddra_modules...'
Updating Authors list for project ddra_modules...
++ echo ddra_modules
++ awk -F / '{print $(NF-1)}'
+ projectLog=ddra_modules
+ java -jar /home/israel/git/workspace_linux_scripts/MLOZ/localDev3/svn-migration-scripts.jar authors http://svn.sdlc.gfdi.be/svn/EC/ddra/trunk/ddra_modules m999ipa '$Catalun65'
About to create the authors file.
+ [[ 0 -ne 0 ]]
+ echo 'List of authors completed under file: /home/israel/git/workspace_linux_scripts/MLOZ/localDev3/authors/ddra_modules-authors.txt'
List of authors completed under file: /home/israel/git/workspace_linux_scripts/MLOZ/localDev3/authors/ddra_modules-authors.txt
+ echo 'Fetching latest SVN commits for project ddra_modules in progress...'
Fetching latest SVN commits for project ddra_modules in progress...
+ git svn fetch
+ echo 'svn fetch operation completed'
svn fetch operation completed
+ [[ -z '' ]]
+ echo 'sync-rebase operation: Synchronize with the fetched commits...'
sync-rebase operation: Synchronize with the fetched commits...
+ java -Dfile.encoding=utf-8 -jar /home/israel/git/workspace_linux_scripts/MLOZ/localDev3/svn-migration-scripts.jar sync-rebase
Current branch master is up to date.
+ [[ -z '' ]]
+ echo 'clean-git operation in progress...'
clean-git operation in progress...
+ java -Dfile.encoding=utf-8 -jar /home/israel/git/workspace_linux_scripts/MLOZ/localDev3/svn-migration-scripts.jar clean-git --force
# Creating annotated tags...
# Creating local branches...
Creating the local branch 'origin/master' for Subversion branch 'refs/remotes/origin/master'.
Branch origin/master set up to track remote branch master from origin.
# Checking for obsolete tags...
svn: warning: W160013: URL 'http://svn.sdlc.gfdi.be/svn/EC/ddra/tags/ddra_modules' non-existent in revision 4091
svn: E200009: Could not list all targets because some targets don't exist
No obsolete tags to remove.
# Checking for obsolete branches...
svn: warning: W160013: URL 'http://svn.sdlc.gfdi.be/svn/EC/ddra/branches/ddra_modules' non-existent in revision 4091
svn: E200009: Could not list all targets because some targets don't exist
Deleting Git branch 'origin/master' not in Subversion.
Deleted branch origin/master (was ce2480a).
# Cleaning tag names
# Cleaning branch names
+ errorSync=1
+ echo 'Notice that errors related with branches or tags not found are due to use sub-repo (repo/trunk/subrepo) instead of repo/trunk.'
Notice that errors related with branches or tags not found are due to use sub-repo (repo/trunk/subrepo) instead of repo/trunk.
+ echo 'Push to Bitbucket remote repository:'
Push to Bitbucket remote repository:
++ echo ddra_modules
++ awk -F / '{print $(NF)}'
+ project=ddra_modules
+ git add --all
+ git commit -m 'Syncing Git repo with latest SVN commits'
On branch master
Your branch is up-to-date with 'origin/master'.
nothing to commit, working directory clean
+ git push -u origin master --tags
Everything up-to-date
Branch master set up to track remote branch master from origin.
+ echo 'Logs for project ddra_modules are available here: /logs/ddra_modules.synced.2018-09-07_1252.log'
Logs for project ddra_modules are available here: /logs/ddra_modules.synced.2018-09-07_1252.log
